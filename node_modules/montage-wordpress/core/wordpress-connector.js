var Montage = require("montage/core/core").Montage,
    Reqwest = require("reqwest");

exports.WordpressConnector = Montage.specialize({

    constructor: {
        value: function WordpressConnector () {
        }
    },

    host: {
        value: null
    },

    path: {
        value: null
    },

    makeRequest: {
        value: function(query) {
            var url = "http://" + this._host + "/wp-json/" + this._path + "?_jsonp=cb";
            if (query) url += "&" + Reqwest.toQueryString(query);

            return Reqwest({url: url, type: "jsonp", method: "get",
                jsonpCallback: "_jsonp", jsonpCallbackName: "cb"});
        }
    },

})
